<!DOCTYPE html>
<html lang="ru-RU">
  @@include('html/head.html', { "title": "Политики школы" })
  <body>
    @@include('html/header.html', { "class": "light" })

    <main>
      <section class="hero-blue hero-docs section-hidden">
        <div class="container">
          <div class="hero-blue__container">
            <h1 class="hero-blue__title">Политики школы</h1>
          </div>
        </div>
      </section>
      <section class="docs section-pad section-hidden" data-state="list" id="docs">
        <div class="container">
          <div class="docs__container">
            <aside class="docs__panel">
              <h2 class="docs__heading color-blue">Документы</h2>

              <div class="docs__list" id="docsList">
                
                <article class="docs-card"
                  data-title="Политика конфиденциальности 1"
                  data-url="/files/doc.pdf"
                >
                  <div class="docs-card__icon" aria-hidden="true"><img src="@img/doc-img.png" alt=""></div>

                  <div class="docs-card__body">
                    <div class="docs-card__title">Политика конфиденциальности 1</div>
                    <div class="docs-card__meta">обновлено 12.01.2026</div>
                    <div class="docs-card__desc">
                      <p>Правила обработки и защиты персональных данных учащихся и сотрудников</p>
                    </div>
                  </div>

                  <!-- В режиме LIST это “Читать”, в режиме VIEW — иконка скачивания -->
                  <button class="docs-card__action" type="button">
                    <span class="docs-card__actionText">
                      <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M10.0003 1.33337H4.00033C3.6467 1.33337 3.30756 1.47385 3.05752 1.7239C2.80747 1.97395 2.66699 2.31309 2.66699 2.66671V13.3334C2.66699 13.687 2.80747 14.0261 3.05752 14.2762C3.30756 14.5262 3.6467 14.6667 4.00033 14.6667H12.0003C12.3539 14.6667 12.6931 14.5262 12.9431 14.2762C13.1932 14.0261 13.3337 13.687 13.3337 13.3334V4.66671L10.0003 1.33337Z" stroke="white" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M9.33301 1.33337V4.00004C9.33301 4.35366 9.47348 4.6928 9.72353 4.94285C9.97358 5.1929 10.3127 5.33337 10.6663 5.33337H13.333" stroke="white" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M6.66634 6H5.33301" stroke="white" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M10.6663 8.66663H5.33301" stroke="white" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M10.6663 11.3334H5.33301" stroke="white" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                      Читать
                    </span>
                    <span class="docs-card__actionIcon" aria-hidden="true">
                      <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M14 10V12.6667C14 13.0203 13.8595 13.3594 13.6095 13.6095C13.3594 13.8595 13.0203 14 12.6667 14H3.33333C2.97971 14 2.64057 13.8595 2.39052 13.6095C2.14048 13.3594 2 13.0203 2 12.6667V10" stroke="#22326E" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M4.66699 6.66663L8.00033 9.99996L11.3337 6.66663" stroke="#22326E" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M8 10V2" stroke="#22326E" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                    </span>
                  </button>
                </article>

                <article class="docs-card"
                  data-title="Политика конфиденциальности 2"
                  data-url="/files/doc.pdf"
                >
                  <div class="docs-card__icon" aria-hidden="true"><img src="@img/doc-img.png" alt=""></div>

                  <div class="docs-card__body">
                    <div class="docs-card__title">Политика конфиденциальности 2</div>
                    <div class="docs-card__meta">обновлено 12.01.2026</div>
                    <div class="docs-card__desc">
                      <p>Правила обработки и защиты персональных данных учащихся и сотрудников</p>
                    </div>
                  </div>

                  <!-- В режиме LIST это “Читать”, в режиме VIEW — иконка скачивания -->
                  <button class="docs-card__action" type="button">
                    <span class="docs-card__actionText">
                      <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M10.0003 1.33337H4.00033C3.6467 1.33337 3.30756 1.47385 3.05752 1.7239C2.80747 1.97395 2.66699 2.31309 2.66699 2.66671V13.3334C2.66699 13.687 2.80747 14.0261 3.05752 14.2762C3.30756 14.5262 3.6467 14.6667 4.00033 14.6667H12.0003C12.3539 14.6667 12.6931 14.5262 12.9431 14.2762C13.1932 14.0261 13.3337 13.687 13.3337 13.3334V4.66671L10.0003 1.33337Z" stroke="white" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M9.33301 1.33337V4.00004C9.33301 4.35366 9.47348 4.6928 9.72353 4.94285C9.97358 5.1929 10.3127 5.33337 10.6663 5.33337H13.333" stroke="white" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M6.66634 6H5.33301" stroke="white" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M10.6663 8.66663H5.33301" stroke="white" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M10.6663 11.3334H5.33301" stroke="white" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                      Читать
                    </span>
                    <span class="docs-card__actionIcon" aria-hidden="true">
                      <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M14 10V12.6667C14 13.0203 13.8595 13.3594 13.6095 13.6095C13.3594 13.8595 13.0203 14 12.6667 14H3.33333C2.97971 14 2.64057 13.8595 2.39052 13.6095C2.14048 13.3594 2 13.0203 2 12.6667V10" stroke="#22326E" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M4.66699 6.66663L8.00033 9.99996L11.3337 6.66663" stroke="#22326E" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M8 10V2" stroke="#22326E" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                    </span>
                  </button>
                </article>

                <article class="docs-card"
                  data-title="Политика конфиденциальности 3"
                  data-url="/files/doc.pdf"
                >
                  <div class="docs-card__icon" aria-hidden="true"><img src="@img/doc-img.png" alt=""></div>

                  <div class="docs-card__body">
                    <div class="docs-card__title">Политика конфиденциальности 3</div>
                    <div class="docs-card__meta">обновлено 12.01.2026</div>
                    <div class="docs-card__desc">
                      <p>Правила обработки и защиты персональных данных учащихся и сотрудников</p>
                    </div>
                  </div>

                  <!-- В режиме LIST это “Читать”, в режиме VIEW — иконка скачивания -->
                  <button class="docs-card__action" type="button">
                    <span class="docs-card__actionText">
                      <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M10.0003 1.33337H4.00033C3.6467 1.33337 3.30756 1.47385 3.05752 1.7239C2.80747 1.97395 2.66699 2.31309 2.66699 2.66671V13.3334C2.66699 13.687 2.80747 14.0261 3.05752 14.2762C3.30756 14.5262 3.6467 14.6667 4.00033 14.6667H12.0003C12.3539 14.6667 12.6931 14.5262 12.9431 14.2762C13.1932 14.0261 13.3337 13.687 13.3337 13.3334V4.66671L10.0003 1.33337Z" stroke="white" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M9.33301 1.33337V4.00004C9.33301 4.35366 9.47348 4.6928 9.72353 4.94285C9.97358 5.1929 10.3127 5.33337 10.6663 5.33337H13.333" stroke="white" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M6.66634 6H5.33301" stroke="white" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M10.6663 8.66663H5.33301" stroke="white" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M10.6663 11.3334H5.33301" stroke="white" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                      Читать
                    </span>
                    <span class="docs-card__actionIcon" aria-hidden="true">
                      <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M14 10V12.6667C14 13.0203 13.8595 13.3594 13.6095 13.6095C13.3594 13.8595 13.0203 14 12.6667 14H3.33333C2.97971 14 2.64057 13.8595 2.39052 13.6095C2.14048 13.3594 2 13.0203 2 12.6667V10" stroke="#22326E" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M4.66699 6.66663L8.00033 9.99996L11.3337 6.66663" stroke="#22326E" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M8 10V2" stroke="#22326E" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                    </span>
                  </button>
                </article>
              </div>
            </aside>

            <!-- ПРАВАЯ ПАНЕЛЬ (скрыта до клика) -->
            <div class="docs__viewer" aria-label="Просмотр документа">
              <div class="viewer__toolbar">
                <div class="viewer__info">
                  <div class="viewer__title" id="viewerTitle">Политика конфиденциальности</div>
                </div>

                <div class="viewer__actions">
                  <a class="viewer__btn" id="viewerDownload" href="/files/doc.pdf" download>
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M2 11.3335C2 11.9535 2 12.2635 2.06815 12.5178C2.25309 13.208 2.79218 13.7471 3.48237 13.932C3.7367 14.0002 4.04669 14.0002 4.66667 14.0002H11.3333C11.9533 14.0002 12.2633 14.0002 12.5177 13.932C13.2078 13.7471 13.7469 13.208 13.9319 12.5178C14 12.2635 14 11.9535 14 11.3335" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                      <path d="M11 7.66682C11 7.66682 8.79056 10.6668 7.99996 10.6668C7.20943 10.6668 5 7.66682 5 7.66682M7.99996 10.0001V2.00012" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span>Скачать</span>
                  </a>
                  <button class="viewer__close" type="button" id="viewerClose" aria-label="Закрыть">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M18 6L6 18" stroke="#22326E" stroke-width="1.66667" stroke-linecap="round" stroke-linejoin="round"/>
                      <path d="M6 6L18 18" stroke="#22326E" stroke-width="1.66667" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                  </button>
                </div>
              </div>

              <div class="viewer__content">
                <iframe id="viewerFrame" title="PDF просмотр" loading="lazy"></iframe>
              </div>
            </div>

            <div class="docs__backdrop" id="viewerBackdrop" aria-hidden="true"></div>
          </div>
        </div>
      </section>
    </main>

    @@include('html/footer.html') 

    <script>
      const root = document.getElementById('docs');
      const list = document.getElementById('docsList');

      const frame = document.getElementById('viewerFrame');

      const viewerTitle = document.getElementById('viewerTitle');
      const viewerDownload = document.getElementById('viewerDownload');
      const viewerClose = document.getElementById('viewerClose');

      const backdrop = document.getElementById('viewerBackdrop');
      const mqMobile = window.matchMedia('(max-width: 1024px)');

      function openDoc(card){
        const url = card.dataset.url;
        const title = card.dataset.title || 'Документ';

        document.querySelectorAll('.docs-card').forEach(x => x.classList.remove('is-active'));
        card.classList.add('is-active');

        root.dataset.state = 'view';

        viewerTitle.textContent = title;

        frame.src = url + '#view=FitH';
        viewerDownload.href = url;

        if (mqMobile.matches) document.body.classList.add('no-scroll');
      }

      function closeViewer(){
        document.querySelectorAll('.docs-card')
          .forEach(x => x.classList.remove('is-active'));
        root.dataset.state = 'list';
        frame.src = '';

        document.body.classList.remove('no-scroll');
      }

      list.addEventListener('click', (e) => {
        const card = e.target.closest('.docs-card');
        if(!card) return;
        openDoc(card);
      });

      viewerClose.addEventListener('click', closeViewer);
      backdrop?.addEventListener('click', closeViewer);
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && root.dataset.state === 'view') closeViewer();
      });
    </script>

    @@include('html/foot.html')
  </body>
</html>